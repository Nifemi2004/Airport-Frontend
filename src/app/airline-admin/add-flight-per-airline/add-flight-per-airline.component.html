<app-navbar />
<div class="home">
  <div class="sidebar">
    <app-sidebar />
  </div>
  <div class="main">
    <table>
      <thead>
        <tr>
          <th>Flight Number</th>
          <th>Origin</th>
          <th>Destination</th>
          <th>Departure Date</th>
          <th>Return Date</th>
          <th>Economy Price</th>
          <th>Business Price</th>
          <th>First Price</th>
          <th>Status</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let flight of flights; let i = index">
          <td>{{ flight.flightNumber }}</td>
          <td>{{ flight.origin }}</td>
          <td>{{ flight.destination }}</td>
          <td>{{ flight.departureDate }}</td>
          <td>{{ flight.arrivalDate }}</td>
          <td>{{ flight.economyPrice }}</td>
          <td>{{ flight.businessPrice }}</td>
          <td>{{ flight.firstPrice }}</td>
          <td>{{ flight.status }}</td>
          <td>
            <i
              class="pi pi-user-edit icons green"
              (click)="openEditModal(flight, i)"
            ></i>
            <i
              class="pi pi-trash icons red"
              (click)="onDelete(flight, i)"
            ></i>
          </td>
        </tr>
      </tbody>
    </table>

    <div>
      <button type="submit" class="new" (click)="openNewModal()">New</button>
    </div>
  </div>

  <div *ngIf="isModalOpen">
    <app-modal [isOpen]="isModalOpen" (closeModalEvent)="closeModal()">
      <form
        [formGroup]="flightForm"
        (ngSubmit)="onEditSubmit()"
        class="airplane-form"
      >

        <div class="form-group">
          <label for="flightNumber">Flight Number:</label>
          <input
            type="flightNumber"
            id="flightNumber"
            formControlName="flightNumber"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="origin">Origin:</label>
          <input
            type="origin"
            id="origin"
            formControlName="origin"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="destination">Destination:</label>
          <input
            type="destination"
            id="destination"
            formControlName="destination"
            class="form-control"
          />
        </div>

        <div class="form-group">
            <label for="departureDate">Departure Date:</label>
            <input
              type="departureDate"
              id="departureDate"
              formControlName="departureDate"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label for="arrivalDate">Arrival Date:</label>
            <input
              type="arrivalDate"
              id="arrivalDate"
              formControlName="arrivalDate"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label for="economyPrice">Economy Price:</label>
            <input
              type="number"
              id="economyPrice"
              formControlName="economyPrice"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label for="businessPrice">Business Price:</label>
            <input
              type="number"
              id="businessPrice"
              formControlName="businessPrice"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label for="firstPrice">First Price:</label>
            <input
              type="number"
              id="firstPrice"
              formControlName="firstPrice"
              class="form-control"
            />
          </div>

          <div class="form-group">
            <label for="status">Status:</label>
            <input
              type="status"
              id="status"
              formControlName="status"
              class="form-control"
            />
          </div>


        <button type="submit" [disabled]="flightForm.invalid" class="btn-save">
          Save
        </button>
      </form>
    </app-modal>
  </div>
  <div *ngIf="isNewModalOpen">
    <app-modal [isOpen]="isNewModalOpen" (closeModalEvent)="closeNewModal()">
      <form
        [formGroup]="flightForm"
        (ngSubmit)="onNewSubmit()"
        class="airplane-form"
      >
      <div class="form-group">
        <label for="airplaneId">AirplaneId:</label>
        <input
          type="number"
          id="airplaneId"
          formControlName="airplaneId"
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="flightNumber">Flight Number:</label>
        <input
          type="flightNumber"
          id="flightNumber"
          formControlName="flightNumber"
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="origin">Origin:</label>
        <input
          type="origin"
          id="origin"
          formControlName="origin"
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="destination">Destination:</label>
        <input
          type="destination"
          id="destination"
          formControlName="destination"
          class="form-control"
        />
      </div>

      <div class="form-group">
          <label for="departureDate">Departure Date:</label>
          <input
            type="departureDate"
            id="departureDate"
            formControlName="departureDate"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="arrivalDate">Arrival Date:</label>
          <input
            type="arrivalDate"
            id="arrivalDate"
            formControlName="arrivalDate"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="economyPrice">Economy Price:</label>
          <input
            type="number"
            id="economyPrice"
            formControlName="economyPrice"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="businessPrice">Business Price:</label>
          <input
            type="number"
            id="businessPrice"
            formControlName="businessPrice"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="firstPrice">First Price:</label>
          <input
            type="number"
            id="firstPrice"
            formControlName="firstPrice"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="status">Status:</label>
          <input
            type="status"
            id="status"
            formControlName="status"
            class="form-control"
          />
        </div>

        <button type="submit" [disabled]="flightForm.invalid" class="btn-save">
          Save
        </button>
      </form>
    </app-modal>
  </div>
</div>
